webpackJsonp([0],[function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";!function(){window.console&&console.log||(console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}}),window.location.href.indexOf("-debug")==-1&&(console.log=function(){},console.info=function(){}),i.e(0,function(t){var e=[t(2),t(4),t(6),t(10),t(11),t(12),t(13),t(15),t(16),t(17),t(18),t(19),t(20),t(21),t(22),t(23),t(24),t(25),t(26),t(27),t(28),t(29)];(function(){_cs.variable.init(),_cs.ani.init(),_cs.canvascircle.ani(),_cs.util.init(),_cs.event.init(),_cs.sdk.init(),_cs.mvc.init(),coolsite_play.play.start()}).apply(null,e)})}(window)},,,,,,,,,,,,function(t,e,n){var s,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var l={uuid:function(t){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}if(t){for(var i="";t--;)i+=e();return i}return e()+e()+e()+e()+e()+e()+e()+e()},changeURLPar:function(t,e,n){var s,o=t.split("#")[0];if(o.indexOf("?")!=-1){var a="";a=o.substr(o.indexOf("?")+1);var r,l="",c="",d="0";if(a.indexOf("&")!=-1){r=a.split("&");for(i in r){if(r[i].split("=")[0]==e){if(""==n)continue;c=n,d="1"}else c=r[i].split("=")[1];l=l+r[i].split("=")[0]+"="+c+"&"}l=l.substr(0,l.length-1),"0"==d&&""!=n&&l==a&&(l=l+"&"+e+"="+n)}else a.indexOf("=")!=-1?(r=a.split("="),r[0]==e?(c=n,d="1"):c=r[1],""!=c&&(l=r[0]+"="+c),"0"==d&&l==a&&""!=n&&(l=l+"&"+e+"="+n)):""!=n&&(l=e+"="+n);s=o.substr(0,o.indexOf("?")),""!=l&&(s=s+"?"+l)}else s=""!=n?o+"?"+e+"="+n:o;return t.indexOf("#")>0&&(s=s+"#"+t.split("#")[1]),s},getUrlParameterByName:function(t,e){var i=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n=new RegExp("[\\?&]"+i+"=([^&#]*)"),s=n.exec("undefined"!=typeof e&&e||location.search);return null==s?null:decodeURIComponent(s[1].replace(/\+/g," "))},replaceUrlParameterByName:function(t,e,i){var n=e.split("=")[1];return this.changeURLPar(i,t,n)},getHashParameterByName:function(t){var e=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\#&]"+e+"=([^&#]*)"),n=i.exec(location.hash);return null==n?null:decodeURIComponent(n[1].replace(/\+/g," "))},replaceHashParameterByName:function(t,e){var i=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n=new RegExp("[\\#&]"+i+"=([^&#]*)"),s=n.exec(location.hash);return location.hash.replace(s[0].substr(1),e)},parseTemplate:function(t){var e=null;return"function"==typeof t&&(e=t),"string"==typeof t&&(e=_.template(t)),e},renderT:function(t,e,i,s,o){if(!t)return!1;e||(e={});var a=s||null,r=$.extend(!0,{},e);if(a&&"undefined"!=typeof _gDebug&&_gDebug&&_g.debug&&_g.debug.enabled&&_g.debug.query_user_template(a)&&!o&&(t=_g.debug.query_user_template(a)),i){var l={};l[i]=r,r=l}var c=_g.parseTemplate(t);a&&_g.debug&&_g.debug.enabled&&(_g.debug.template[a]={data:r,template:"string"==typeof t?t:t.textsource,debug:!0});var d=$(c(r));return a&&_g.debug&&_g.debug.enabled&&(_g.debug.template[a].el=d),_g.generator&&(_g.generator.autoWidget(d),(d.hasClass("c-slimscroll")||d.find(".c-slimscroll").length)&&_g.generator.autoScroll(d)),d.find("[data-toggle=tooltip],.c-tooltip-btn").each(function(){var t=$(this),e=$(this).data().template;e?n.e(0,function(e){var i=[!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}()];(function(){var e=!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}();t.tooltip({template:e})}).apply(null,i)}):$(this).tooltip()}),d},domExist:function(t,e){return e||(e=document),"string"==typeof t&&(t=$(t)),jQuery.contains(e.documentElement,t[0])},browserSupport:function(t){var e=!1,i={msie:1,chrome:1,mozilla:1,safari:1,opera:1,success:null,fail:null};t=t?$.extend(!0,{},i,t):$.extend(!0,{},i);var n=parseInt($.browser.version,10);return $.browser.msie&&1==t.msie||$.browser.chrome&&1==t.chrome||$.browser.mozilla&&1==t.mozilla||$.browser.safari&&1==t.safrai&&$.browser.opera&&1==t.opera?e=!0:$.browser.msie&&0==t.msie||$.browser.chrome&&0==t.chrome||$.browser.mozilla&&0==t.mozilla||$.browser.safari&&0==t.safrai&&$.browser.opera&&0==t.opera?e=!1:($.browser.msie&&(e=n>=t.msie),$.browser.chrome&&(e=n>=t.chrome),$.browser.mozilla&&(e=n>=t.mozilla),$.browser.opera&&(e=n>=t.opera),$.browser.safari&&(e=n>=t.safari)),e?t.success&&t.success():t.fail&&t.fail(),e},array:{moveup:function(t,e){var i=t.indexOf(e);return i>0&&(t=_g.array.swap(t,i,i-1)),t},movedown:function(t,e){var i=t.indexOf(e);return i<t.length&&(t=_g.array.swap(t,i,i+1)),t},swap:function(t,e,i){return t[e]=t.splice(i,1,t[e])[0],t},move2first:function(t,e){var n=[];for(n.push(e),i=0;i<t.length;i++)t[i]!=e&&n.push(t[i]);return n},move2last:function(t,e){var n=[];for(i=0;i<t.length;i++)t[i]!=e&&n.push(t[i]);return n.push(e),n},randomPick:function(t){return t[Math.floor(Math.random()*t.length)]},maptree:function(t){var e={treesource:null,mapdata:null,idAttribute:"id"};if(t=t?$.extend(!0,{},e,t):$.extend(!0,{},e),!t.treesource||!t.mapdata)return[];var i=[];return _.each(t.treesource,function(e){e.children&&(e.children=_g.array.maptree({treesource:e.children,mapdata:t.mapdata,idAttribute:t.idAttribute}));var n=_.find(t.mapdata,function(i){return i[t.idAttribute]==e[t.idAttribute]});n&&(e=$.extend(!0,e,n)),i.push(e)}),i},toDict:function(t,e){var n,s={};for(i=0;i<t.length;i++)n=t[i][e],s[n]=t[i];return s},treeToList:function(t,e,i){var n={childrenKey:"children",parentKey:"parent",idAttribute:"id"};if(e=e?$.extend(!0,{},n,e):$.extend(!0,{},n),!t)return[];var s=[];return _.each(t,function(n){if(n[e.childrenKey].length){var o=_g.array.toTreeList(n[e.childrenKey],e,i?i:t);for(j=0;j<o.length;j++)s.push(o[j]);n.children=_.pluck(n.children,"id")}else delete n.children;s.push(n)}),s},listToTree:function(t,e,i){var n={childrenKey:"children",parentKey:"parent",idAttribute:"id"};e=e?$.extend(!0,{},n,e):$.extend(!0,{},n);var s=[];return i&&(t=_.map(t,function(t){return"string"==typeof t&&(t=_.find(i,function(i){return i[e.idAttribute]==t})),t})),_.each(t,function(n){var o=$.extend(!0,{},n);i||o[e.parentKey],o[e.childrenKey]&&o[e.childrenKey].length?(o[e.childrenKey]=_g.array.listToTree(o[e.childrenKey],e,i?i:t),s.push(o)):s.push(o)}),s}},object:{jsonparse:function(t){if(!t)return null;try{return a=JSON.parse(t),a}catch(e){return t}},equal:function(t,e){},treeToArray:function(t){},getKeyByValue:function(t,e){try{var i=_.keys(t)[_.values(t).indexOf(e)];return i}catch(t){return}}},string:{randomGenerate:function(t){t=t?t:10;for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",n=0;n<t;n++)e+=i.charAt(Math.floor(Math.random()*i.length));return e},getUrlExt:function(t){return t.match(/(.[^.]+|)$/)[0]},getUrlNameWithOutExt:function(t){return t.substr(0,t.lastIndexOf("."))||t},getFileNameByPath:function(t){return t.replace(/^.*[\\\/]/,"")},string2boolean:function(t){return"true"==t},capitalize:function(t){return t=t.substring(0,1).toUpperCase()+t.substring(1)},rmfirst:function(t){return t.replace(/^.(\s+)?/,"")},rmlast:function(t){return t.replace(/(\s+)?.$/,"")},isPureEng:function(t){var e=t;if(""==e)return!0;for(var i=0;i<e.length;i++)if(!(e.charCodeAt(i)>=48&&e.charCodeAt(i)<=57||e.charCodeAt(i)>=65&&e.charCodeAt(i)<=90||e.charCodeAt(i)>=97&&e.charCodeAt(i)<=122))return!1;return!0},isEng:function(t){var e=t;if(""==e)return!0;for(var i=0;i<e.length;i++)if(!(32==e.charCodeAt(i)||e.charCodeAt(i)>=48&&e.charCodeAt(i)<=57||e.charCodeAt(i)>=65&&e.charCodeAt(i)<=90||e.charCodeAt(i)>=97&&e.charCodeAt(i)<=122))return!1;return!0},isPureChi:function(t){var e=t;if(""==e)return!0;for(var i=0;i<e.length;i++)if(!(e.charCodeAt(i)>=19968&&e.charCodeAt(i)<=64041))return!1;return!0},isChi:function(t){var e=t;if(""==e)return!0;for(var i=0;i<e.length;i++)if(!(32==e.charCodeAt(i)||e.charCodeAt(i)>=19968&&e.charCodeAt(i)<=64041))return!1;return!0},autoName:function(t,e,i,n){t||(t=""),i||(i=""),n||(n=1);var s=t+n+i;return e.indexOf(s)!=-1?_g.string.autoName(t,e,i,n+1):s}},boolean:{randomPick:function(){return!!Math.round(1*Math.random())}},number:{random:function(t,e){return"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=100),Math.random()*(e-t)+t},randomInt:function(t,e){return"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=100),Math.floor(Math.random()*(e-t+1))+t},round:function(t,e){var i=t;void 0==("undefined"==typeof e?"undefined":r(e))&&(e=.5);var n=parseInt(t),s=t-n;i=s<e?n:n+1},rgbToHex:function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},hexToRgb:function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},decimal:function(t,e){return Number(t.toFixed(e))}},hasTouch:function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}(),inIframe:function(){try{return window.self!==window.top}catch(t){return!0}},supportFlash:function(){return"undefined"!=typeof swfobject&&0!==swfobject.getFlashPlayerVersion().major},isMSIE11:function(){return!!navigator.userAgent.match(/Trident\/7\./)},getRGBA:function(t,e){if(e=void 0!=e?Number(e):1,!t)return"transparent";if(t.indexOf("rgb(")!=-1)var i=t.replace(/rgb\((.*)\)/,"$1").split(","),n="rgba("+i[0]+","+i[1]+","+i[2]+","+e+")";else{var i=_g.number.hexToRgb(t);if(i)var n="rgba("+i.r+","+i.g+","+i.b+","+e+")";else n="rgba(255,255,255,1)"}return n},weixinShare:function(){if("undefined"!=typeof wx_permissions&&wx_permissions.onMenuShareTimeline){var t=message_link+(message_link.indexOf("disableHistoryStart=0")>=0?"#page/"+interaction_view.currentPage:""),e=shareTitle==bookTitle?descContent:shareTitle;wx.onMenuShareAppMessage({title:bookTitle,desc:e,link:t,imgUrl:imgUrl,trigger:function(t){_gaq.push(["_trackEvent","weixin","share","appmessage","click"])},success:function(t){_gaq.push(["_trackSocial","Wechat","appmessage",ga_opt_target,ga_opt_pagePath])},cancel:function(t){_gaq.push(["_trackEvent","weixin","share","appmessage","cancel"])},fail:function(t){_gaq.push(["_trackEvent","error","weixinjsapi","appmessage",JSON.stringify(t)])}}),wx.onMenuShareTimeline({title:shareTitle,link:t,imgUrl:imgUrl,trigger:function(t){_gaq.push(["_trackEvent","weixin","share","timeline","click"])},success:function(t){_gaq.push(["_trackSocial","Wechat","timeline",ga_opt_target,ga_opt_pagePath])},cancel:function(t){_gaq.push(["_trackEvent","weixin","share","timeline","cancel"])},fail:function(t){_gaq.push(["_trackEvent","error","weixinjsapi","timeline",JSON.stringify(t)])}}),wx.onMenuShareQQ({title:bookTitle,desc:e,link:t,imgUrl:imgUrl,trigger:function(t){_gaq.push(["_trackEvent","weixin","share","QQ","click"])},complete:function(t){_gaq.push(["_trackEvent","weixin","share","QQ","complete"])},success:function(t){_gaq.push(["_trackSocial","Wechat","QQ",ga_opt_target,ga_opt_pagePath])},cancel:function(t){_gaq.push(["_trackEvent","weixin","share","QQ","cancel"])},fail:function(t){_gaq.push(["_trackEvent","error","weixinjsapi","QQ",JSON.stringify(t)])}}),wx.onMenuShareWeibo({title:shareTitle,desc:descContent,link:message_link,imgUrl:imgUrl,trigger:function(t){_gaq.push(["_trackEvent","weixin","share","Weibo","click"])},complete:function(t){_gaq.push(["_trackEvent","weixin","share","Weibo","complete"])},success:function(t){_gaq.push(["_trackSocial","Wechat","Weibo",ga_opt_target,ga_opt_pagePath])},cancel:function(t){_gaq.push(["_trackEvent","weixin","share","Weibo","cancel"])},fail:function(t){_gaq.push(["_trackEvent","error","weixinjsapi","Weibo",JSON.stringify(t)])}})}}};s=[n(9),n(4)],o=function(){return window._g||(window._g={}),window._g=$.extend(!0,{},window._g,l),l=void 0,window._g}.apply(e,s),!(void 0!==o&&(t.exports=o))}(window)},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=14},function(t,e,i){var n,s;!function(){var o,a,r,l,c,d,u,h,p,m={};a=window.document.documentElement,p=window.navigator.userAgent.toLowerCase(),m.ios=function(){return m.iphone()||m.ipod()||m.ipad()},m.iphone=function(){return r("iphone")},m.ipod=function(){return r("ipod")},m.ipad=function(){return r("ipad")},m.android=function(){return r("android")},m.androidPhone=function(){return m.android()&&r("mobile")},m.androidTablet=function(){return m.android()&&!r("mobile")},m.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},m.blackberryPhone=function(){return m.blackberry()&&!r("tablet")},m.blackberryTablet=function(){return m.blackberry()&&r("tablet")},m.windows=function(){return r("windows")},m.mac=function(){return r("mac")},m.linux=function(){return r("linux")},m.windowsPhone=function(){return m.windows()&&r("phone")},m.windowsTablet=function(){return m.windows()&&r("touch")},m.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},m.fxosPhone=function(){return m.fxos()&&r("mobile")},m.fxosTablet=function(){return m.fxos()&&r("tablet")},m.meego=function(){return r("meego")},m.mobile=function(){return m.androidPhone()||m.iphone()||m.ipod()||m.windowsPhone()||m.blackberryPhone()||m.fxosPhone()||m.meego()},m.tablet=function(){return m.ipad()||m.androidTablet()||m.blackberryTablet()||m.windowsTablet()||m.fxosTablet()},m.msie=function(){return $.browser.msie||!!navigator.userAgent.match(/Trident\/7\./)},m.portrait=function(){return 90!==Math.abs(window.orientation)},m.landscape=function(){return 90===Math.abs(window.orientation)},m.noConflict=function(){return this},m.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.1")},m.online=function(t,e,i){var n=new Image;n.onload=function(){console.log("online"),e&&e.constructor==Function&&e()},n.onerror=function(){console.log("offline"),i&&i.constructor==Function&&i()},n.src=t+"?t="+_g.uuid()},m.screenSize=function(){var t=window,e=document,i=e.documentElement,n=e.getElementsByTagName("body")[0],s=t.innerWidth||i.clientWidth||n.clientWidth,o=t.innerHeight||i.clientHeight||n.clientHeight;return{x:s,y:o}},m.isWeixin=function(){var t=navigator.userAgent.toLowerCase();return!!/micromessenger/.test(t)},r=function(t){return p.indexOf(t)!==-1},c=function(t){var e;return e=new RegExp(t,"i"),a.className.match(e)},o=function(t){if(!c(t))return a.className+=" "+t},u=function(t){if(c(t))return a.className=a.className.replace(t,"")};var f=function(){m.ios()?m.ipad()?o("ios ipad tablet"):m.iphone()?o("ios iphone mobile"):m.ipod()&&o("ios ipod mobile"):o(m.android()?m.androidTablet()?"android tablet":"android mobile":m.blackberry()?m.blackberryTablet()?"blackberry tablet":"blackberry mobile":m.windows()?m.windowsTablet()?"windows tablet":m.windowsPhone()?"windows mobile":"desktop":m.fxos()?m.fxosTablet()?"fxos tablet":"fxos mobile":m.meego()?"meego mobile":"desktop")};l=function(){return m.landscape()?(u("portrait"),o("landscape")):(u("landscape"),o("portrait"))},h="onorientationchange"in window,d=h?"orientationchange":"resize",window.addEventListener?window.addEventListener(d,l,!1):window.attachEvent?window.attachEvent(d,l):window[d]=l,l(),m.initDom=f,window._g_device=m,n=[i(13)],s=function(){return window._g.device=_g_device,window._g.device}.apply(e,n),!(void 0!==s&&(t.exports=s))}(window)},function(t,e,i){var n,s;!function(){var o={bind:function(t){var e,i,n=0,s=0;t.callback||(t.callback=function(){return!0}),$(t.el).hammer().on("dragstart",function(i){t.canDrag&&!t.canDrag(i)||(t.dragstart&&t.dragstart(i),e=!0)}),$(t.el).hammer().on("dragleft",function(s){if(null==i&&(i=1),(!t.canDragX||t.canDragX(s))&&_g.dragcontrol._testDragEventAccess(s,i))return console.log("dragleft"),e=!0,$.zoom&&1!=$.zoom&&(s.gesture.deltaX=s.gesture.deltaX/$.zoom),n=s.gesture.deltaX,t.dragleft&&t.dragleft(s),s.gesture.preventDefault(),!1}),$(t.el).hammer().on("dragright",function(s){if(null==i&&(i=1),(!t.canDragX||t.canDragX(s))&&_g.dragcontrol._testDragEventAccess(s,i))return console.log("dragright"),e=!0,$.zoom&&1!=$.zoom&&(s.gesture.deltaX=s.gesture.deltaX/$.zoom),n=s.gesture.deltaX,t.dragright&&t.dragright(s),s.gesture.preventDefault(),!1}),$(t.el).hammer().on("dragup",function(n){if(null==i&&(i=2),(!t.canDragY||t.canDragY(n))&&_g.dragcontrol._testDragEventAccess(n,i))return console.log("dragup"),e=!0,$.zoom&&1!=$.zoom&&(n.gesture.deltaY=n.gesture.deltaY/$.zoom),s=n.gesture.deltaY,t.dragup&&t.dragup(n),n.gesture.preventDefault(),!1}),$(t.el).hammer().on("dragdown",function(n){if(null==i&&(i=2),(!t.canDragY||t.canDragY(n))&&_g.dragcontrol._testDragEventAccess(n,i))return console.log("dragdown"),e=!0,$.zoom&&1!=$.zoom&&(n.gesture.deltaY=n.gesture.deltaY/$.zoom),s=n.gesture.deltaY,t.dragdown&&t.dragdown(n),n.gesture.preventDefault(),!1}),$(t.el).hammer().on("dragend",function(o){if(console.log("slide is dragended"),e||(i=null),(!t.canDrag||t.canDrag(o))&&_g.dragcontrol._testDragEventAccess(o,i))return(1==i&&n||2==i&&s)&&($.zoom&&1!=$.zoom&&(2==i&&s&&(o.gesture.deltaY=o.gesture.deltaY/$.zoom),1==i&&n&&(o.gesture.deltaX=o.gesture.deltaX/$.zoom)),t.dragend&&t.dragend(o)),e=!1,i=null,n=0,s=0,o.gesture.preventDefault(),!1})},_testDragEventAccess:function(t,e){var i=!0;return 1==e&&("dragup"!=t.type&&"dragdown"!=t.type||(i=!1)),2==e&&("dragleft"!=t.type&&"dragright"!=t.type||(i=!1)),"dragend"==t.type&&(e||(i=!1)),i}};n=[i(13),i(6)],s=function(){return window._g.dragcontrol=o,window._g.dragcontrol}.apply(e,n),!(void 0!==s&&(t.exports=s))}(window)},function(t,e,i){var n,s;!function(){var o={support:function(){return!!document.createElement("video").canPlayType}(),medias:[],collect:function(t,e){_g.html5media.support&&(t||(t=document),e||(e="id"),$(t).find("video,audio").each(function(){var t={media:this,duration:0,currentTime:0,timer:0,seekx:0,seekPos:0,buffered:0,timerBuffer:0,type:"VIDEO"==this.tagName?"video":"audio",autoplay:$(this).attr("autoplay"),id:$(this).attr(e)};_g.html5media.medias.push(t),this.addEventListener("ended",function(){},!0),this.addEventListener("play",function(){},!0),this.addEventListener("timeupdate",function(){},!0),this.addEventListener("pause",function(){},!0)}))},findById:function(t){return _g.html5media.support?_.find(_g.html5media.medias,function(e){return e.id==t}):null},play:function(t){var e=_g.html5media.findById(t);try{e.media.play()}catch(t){}},pause:function(t){var e=_g.html5media.findById(t);try{e.media.pause()}catch(t){}},pauseAll:function(){_.each(_g.html5media.medias,function(t){_g.html5media.pause(t.id)})},stopAll:function(){_.each(_g.html5media.medias,function(t){_g.html5media.stop(t.id)})},stop:function(t){var e=_g.html5media.findById(t);try{e.media.pause(),e.media.currentTime=0}catch(t){}},toggle:function(t){var e=_g.html5media.findById(t);try{e.media.paused?e.media.play():e.media.pause()}catch(t){}}};n=[i(13),i(2)],s=function(){return window._g.html5media=o,window._g.html5media}.apply(e,n),!(void 0!==s&&(t.exports=s))}(window)},function(module,exports,__webpack_require__){function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var _g_mvc={createModel:function createModel(opts){var defaults={defaults:{},autoIndex:!0,autoUpdate:!0,autoRemove:!0,enableSync:!0,createUrl:null,updateUrl:null,removeUrl:null,fetchUrl:null,staticFetchUrl:null,staticRemoveUrl:null,staticCreateUrl:null,staticUpdateUrl:null,fetchUrlName:null,removeUrlName:null,createUrlName:null,updateUrlName:null,restful:!1,debug:!1,bindChange:null,bindRemove:null,callback:null,initView:null,patchKeys:null,initialize:function initialize(){if(this.iViewlist=[],this.iCollectionlist=[],this.get("id"))this.preset();else if(this.set("isNew",!0),this.autoIndex){var prefix=this.get("type")||this.get("iType")||"M";this.set("id",prefix+"_"+_g.uuid()),this.preset()}else this.save({},{wait:!0,success:function success(model,response){var returned=eval(response);"Success"!=returned.Status&&200!=returned.code||model.set("id",returned.ID.toString()),model.preset()}})},addView:function(t,e){if("function"==typeof e&&(this[t]=new e({model:this})),"object"==("undefined"==typeof e?"undefined":_typeof(e))){var i=_g.mvc.createView(e);this[t]=new i({model:this})}this[t]&&this.iViewlist.push(this[t])},addCollection:function(t,e){if("function"==typeof e&&(this[t]=new e),"object"==("undefined"==typeof view?"undefined":_typeof(view))){var i=_g.mvc.createCollection(e);this[t]=new i}this[t]&&this.iCollectionlist.push(this[t])},preset:function(){this.callback&&this.callback(this);var t=this;this.autoUpdate&&this.on("change",function(){t.updateAllViews()}),this.autoRemove&&this.on("destroy",function(t,e,i){t.removeAllViews(),t.bindRemove&&t.bindRemove(t,i)}),this.bindChange&&this.bindChange(),this.initView&&this.addView("iview",this.initView)},updateAllViews:function(){_.each(this.iViewlist,function(t){t.$el&&t.update()})},removeView:function(t){this[t]&&(this[t].$el.remove(),this.iViewlist=_.reject(this.iViewlist,function(e){return e==this[t]}),this[t]=null)},removeAllViews:function(t){_.each(this.iViewlist,function(e){e.$el&&(t?e.undelegateEvents():e.$el.remove())})}};opts=opts?$.extend(!0,{},defaults,opts):defaults;var Model=Backbone.Model.extend(opts);return Model},createView:function(t){var e,i=(e={template:null,className:null,containment:null,wrap:null,wrapClassName:null,autoRender:!0,position:1,parseData:null,callback:null,bindChange:null,parseTemplate:null,templateKey:null,templateName:null,afterRender:null,afterUpdate:null,initialize:function(){_.bindAll(this),this.autoRender&&this.render(),this.callback&&this.callback(this)},createEl:function(){var t,e=this.model.toJSON();return this.parseData&&(e=this.parseData()),t=this.parseTemplate?this.parseTemplate(this.template):this.template,_g.renderT(t,e,this.templateKey,this.templateName)},render:function(t,e){if(!this.model||!this.template)return!1;if(!_g.domExist(this.$el)){if(!t&&!this.containment)return!1;t||(t=$(this.containment)),e||(e=this.position),this.wrap&&!$(this.containment).is(this.wrap)&&(0==$(this.containment).children(this.wrap).length&&$(this.containment).append(document.createElement(this.wrap)),t=$(this.containment).children(this.wrap),this.containment&&this.wrapClassName&&t.addClass(this.wrapClassName));var i=this.createEl(),n=i;return this.setElement(n),1==e?t.append(n):t.prepend(n),this.className&&this.$el.addClass(this.className),this.afterRender&&this.afterRender(this),this}var i=this.createEl(),n=i;this.$el.replaceWith(n),this.setElement(n),this.afterUpdate&&this.afterUpdate(this)},update:function(){this.render()}},_defineProperty(e,"afterUpdate",function(){this.afterRender&&this.afterRender(this)}),_defineProperty(e,"events",{}),e);t=t?$.extend(!0,{},i,t):i;var n=Backbone.View.extend(t);return n},createCollection:function(t){var e={enableSync:!1,fetchUrl:null,staticFetchUrl:null,saveUrl:null,staticSaveUrl:null,debug:!1,bindRemove:!1,bindReset:!0,bindAdd:null,callback:null,patchKeys:null,name:null,initialize:function(){var t=this;this.bindRemove&&this.on("remove",function(e){"function"==typeof t.bindRemove?t.bindRemove(e):e.removeAllViews()}),this.bindReset&&this.on("reset",function(e,i){"function"==typeof t.bindReset?t.bindReset(e,i):_.each(i.previousModels,function(t){t.removeAllViews()}),t.afterReset&&t.afterReset(e,i)}),this.bindAdd&&this.on("add",function(e){t.bindAdd()}),this.callback&&this.callback(this)},refreshView:function(t){var e={containment:null,viewname:null};t=t?$.extend({},e,t):e,this.length>0&&(_.each(this.at(0).iViewlist,function(e){containment=t.containment||e.containment,containment&&(e.wrap&&!$(containment).is(e.wrap)?$(containment).children(e.wrap).empty():$(containment).empty())}),this.each(function(e){t.containment&&(e.iview.containment=t.containment),t.viewname?e[viewname].update():e.iview.update()}))},removeAllViews:function(t){this.each(function(e){e.removeAllViews(t)})}};t=t?$.extend(!0,{},e,t):e;var i=Backbone.Collection.extend(t);return i}};__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(9),__webpack_require__(4),__webpack_require__(13)],__WEBPACK_AMD_DEFINE_RESULT__=function(){return window._g.mvc=_g_mvc,_g_mvc=void 0,window._g.mvc}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(window)},function(t,e,n){var s,o;!function(){var a=function(t){this.init(t)};a.prototype={isDraged:!1,init:function(t){var e={containment:null,containmentClass:"c-transition-containment",perspectiveClass:"c-perspective",itemClass:"c-transition-item",currentClass:"c-transition-current",leftClass:"c-transition-left",rightClass:"c-transition-right",upClass:"c-transition-up",downClass:"c-transition-down",activeClass:"c-transition-active",topClass:"c-transition-top",repeat:!1,direction:0,type:1,duration:1e3,onStart:null,onEnd:null,control:!0,autoplay:!1,width:null,height:null,disableControlled:!1,autoplayDirection:-1,autoplayAxis:null};return this.opts=t?$.extend(!0,{},e,t):e,!!this.opts.containment&&($(this.opts.containment).addClass(this.opts.containmentClass),_.bindAll(this),this.opts.control&&(this.control(),this.opts.disableControlled&&this.disableControl()),this.opts.autostart?(this.timerDisabled=!1,this.timerstart({})):this.timerDisabled=!0,this)},disableControlled:!1,disableControl:function(){this.disableControlled=!0},enableControl:function(){this.disableControlled=!1},control:function(){var t=this;_g.dragcontrol.bind({el:this.opts.containment,dragstart:function(e){console.log(e),t.disableControlled||t.start(e)},dragleft:function(e){t.disableControlled||t.dragX(e)},dragright:function(e){t.disableControlled||t.dragX(e)},dragup:function(e){t.disableControlled||t.dragY(e)},dragdown:function(e){t.disableControled||t.dragY(e)},dragend:function(e){if(!t.disableControlled){if(t.direction&&!t.timerDisabled){var i="x"==t.direction?e.gesture.deltaX:e.gesture.deltaY;t.TimerDirection=i>0?1:-1}t.dragEnd(e)}},canDragX:function(){return!t.opts.autoplayAxis||"x"==t.opts.autoplayAxis},canDragY:function(){return!t.opts.autoplayAxis||"y"==t.opts.autoplayAxis}})},stashitemClass:function(){$(this.opts.containment).find("."+this.opts.itemClass).css({transform:"","-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":"",opacity:""}),this.stashClass={current:$(this.opts.containment).find("."+this.opts.currentClass).attr("style"),left:$(this.opts.containment).find("."+this.opts.leftClass).attr("style"),right:$(this.opts.containment).find("."+this.opts.rightClass).attr("style"),up:$(this.opts.containment).find("."+this.opts.upClass).attr("style"),down:$(this.opts.containment).find("."+this.opts.downClass).attr("style")},this.stashed=!0},recoveritemClass:function(){if(this.stashed)try{this.currentItem.attr("style",this.stashClass.current||""),this.activeItem.hasClass(this.opts.leftClass)?this.activeItem.attr("style",this.stashClass.left||""):this.activeItem.hasClass(this.opts.rightClass)?this.activeItem.attr("style",this.stashClass.right||""):this.activeItem.hasClass(this.opts.upClass)?this.activeItem.attr("style",this.stashClass.up||""):this.activeItem.hasClass(this.opts.downClass)&&this.activeItem.attr("style",this.stashClass.down||"")}catch(t){console.log(t)}$(this.opts.containment).find("."+this.opts.itemClass).css({transform:"","-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":"",opacity:""}),this.stashed=!1},start:function(t,e){this.isTransiting||(e||(e=this.opts.type),this.args=_g.transitionargs[e],this.args.perspective?$(this.opts.containment).addClass(this.opts.perspectiveClass):$(this.opts.containment).removeClass(this.opts.perspectiveClass),this.currentItem=$(this.opts.containment).find("."+this.opts.currentClass),this.currentItem.addClass(this.opts.topClass),this.stashitemClass())},dragX:function(t){if(!this.isTransiting&&(t.gesture.deltaX<=0?(this.plus=-1,this.activeItem=$(this.opts.containment).find("."+this.opts.rightClass)):(this.plus=1,this.activeItem=$(this.opts.containment).find("."+this.opts.leftClass)),this.activeItem.length)){var e=t.gesture.deltaX;this.direction="x",this.dragHandle(e)}},dragY:function(t){if(!this.isTransiting&&(t.gesture.deltaY<=0?(this.plus=-1,this.activeItem=$(this.opts.containment).find("."+this.opts.downClass)):(this.plus=1,this.activeItem=$(this.opts.containment).find("."+this.opts.upClass)),this.activeItem.length)){var e=t.gesture.deltaY;this.direction="y",this.dragHandle(e)}},dragHandle:function(t){isDraged=!0,$(this.opts.containment).find("."+this.opts.itemClass).removeClass(this.opts.activeClass),this.activeItem.addClass(this.opts.activeClass),this.currentItem=$(this.opts.containment).find("."+this.opts.currentClass);var e=Math.abs(t)/$(this.opts.containment).width();if(_g.browserSupport({msie:9}))if(this.args.percentcontrol){for(i=0;i<this.args.percentcontrol.length;i++)if(e<=this.args.percentcontrol[i]){if(this.args[this.args.percentcontrol[i]][this.direction].css){var n=this.args[this.args.percentcontrol[i]][this.direction].css;n.currentItem&&this.currentItem.css(this.getArgs(n.currentItem,this.plus,e)),n.activeItem&&this.activeItem.css(this.getArgs(n.activeItem,this.plus,e))}this.activeItem.css(this.getArgs(this.args[this.args.percentcontrol[i]][this.direction].activeItem,this.plus,e)),this.currentItem.css(this.getArgs(this.args[this.args.percentcontrol[i]][this.direction].currentItem,this.plus,e));break}}else{if(this.args[this.direction].css){var n=this.args[this.direction].css;n.currentItem&&this.currentItem.css(this.getArgs(n.currentItem,this.plus,e)),n.activeItem&&this.activeItem.css(this.getArgs(n.activeItem,this.plus,e))}this.activeItem.css(this.getArgs(this.args[this.direction].activeItem,this.plus,e)),this.currentItem.css(this.getArgs(this.args[this.direction].currentItem,this.plus,e))}else this.currentItem.css("x"==this.direction?"margin-left":"margin-top",this.plus*e*100+"%"),this.activeItem.css("x"==this.direction?"margin-left":"margin-top",-this.plus*(1-e)*100+"%");this.args.currentTop?this.currentItem.addClass(this.opts.topClass):this.currentItem.removeClass(this.opts.topClass),this.args.activeTop&&this.activeItem.addClass(this.opts.topClass),this.opts.onTransition&&this.opts.onTransition(event,e)},dragEnd:function(t){if(!this.isTransiting&&this.currentItem.length&&this.activeItem.length){var e=this;this.isTransiting=!0;var n="x"==this.direction?t.gesture.deltaX:t.gesture.deltaY,s=Math.abs(n)/$(this.opts.containment).width();if(_g.browserSupport({msie:9}))if(this.args.percentcontrol){for(this.percent=s,i=0;i<this.args.percentcontrol.length;i++)if(s<=this.args.percentcontrol[i]){this.transitPercent(i);break}}else{var o=1200,a=this.getArgs(this.args[this.direction].currentItem,this.plus,1);a.duration=o,a.easing=this.args.currentEasing;var r=this.getArgs(this.args[this.direction].activeItem,this.plus,1);r.duration=o,r.easing=this.args.activeEasing,r.complete=function(){e.isTransiting=!1,e.onTransitionEnd()},this.currentItem.transit(a),this.activeItem.transit(r)}else this.activeItem.css("x"==this.direction?"margin-left":"margin-top","0%"),this.currentItem.css("x"==this.direction?"margin-left":"margin-top",100*-this.plus+"%");console.log("dragend")}},onTransitionEnd:function(){var t=this;this.recoveritemClass(),this.currentItem.removeClass(this.opts.currentClass),this.activeItem.addClass(this.opts.currentClass).removeClass(this.opts.activeClass).removeClass(this.opts.upClass).removeClass(this.opts.rightClass).removeClass(this.opts.leftClass).removeClass(this.opts.downClass),$(this.opts.containment).find("."+this.opts.itemClass).removeClass(this.opts.topClass);var e=this.currentItem.index(),i=this.activeItem.index();$(this.opts.containment).removeClass(this.opts.perspectiveClass),
t.opts.onEnd&&t.opts.onEnd(e,i),this.timerStart()},transitPercent:function(t){var e=this;if(t<this.args.percentcontrol.length){var e=this,i=this.opts.duration*(this.args.percentcontrol[t]-this.percent),n=this.getArgs(this.args[this.args.percentcontrol[t]][this.direction].currentItem,this.plus,this.args.percentcontrol[t]);n.duration=i,n.easing=this.args.currentEasing;var s=this.getArgs(this.args[this.args.percentcontrol[t]][this.direction].activeItem,this.plus,this.args.percentcontrol[t]);s.duration=i,s.easing=this.args.activeEasing,s.complete=function(){e.transitPercent(t+1)},this.percent=this.args.percentcontrol[t],this.currentItem.transit(n),this.activeItem.transit(s)}else e.isTransiting=!1,this.onTransitionEnd()},getArgs:function(t,e,i){var n={};return _.each(t,function(t,s){"function"==typeof t?n[s]=t(e,i):n[s]=t}),n},autostart:function(t,e,i){if(!this.isTransiting&&(this.args=_g.transitionargs[t],this.currentItem=$(this.opts.containment).find("."+this.opts.currentClass),this.stashitemClass(),"x"==e&&(i<0?this.activeItem=$(this.opts.containment).find("."+this.opts.rightClass):this.activeItem=$(this.opts.containment).find("."+this.opts.leftClass)),"y"==e&&(i<0?this.activeItem=$(this.opts.containment).find("."+this.opts.downClass):this.activeItem=$(this.opts.containment).find("."+this.opts.upClass)),this.activeItem.length)){this.args.currentTop&&this.currentItem.addClass(this.opts.topClass),this.plus=i,this.direction=e,this.args.perspective?$(this.opts.containment).addClass(this.opts.perspectiveClass):$(this.opts.containment).removeClass(this.opts.perspectiveClass);var n={gesture:{}};"x"==e?n.gesture.deltaX=0:n.gesture.deltaY=0,this.dragHandle(0),this.dragEnd(n)}},enableTimer:function(){this.timerDisabled=!1},disableTimer:function(){this.timerDisabled=!0},setCurrent:function(t,e){var i,n=this;$(this.opts.containment).children("."+this.opts.itemClass).removeClass(this.opts.topClass).removeClass(this.opts.activeClass).removeClass(this.opts.upClass).removeClass(this.opts.rightClass).removeClass(this.opts.leftClass).removeClass(this.opts.downClass);var s=$(this.opts.containment).children().length;if(t>=s){if(!this.opts.repeat)return void this.timerStop();this.current=0,t=0}else if(t<0){if(!this.opts.repeat)return void this.timerStop();this.current=s-1,t=s-1}if($(this.opts.containment).children().each(function(){$(this).index()==t?(i=$(this),$(this).addClass(n.opts.currentClass)):$(this).removeClass(n.opts.currentClass)}),e&&i){if("x"==e)var o=this.opts.leftClass,a=this.opts.rightClass;else var o=this.opts.upClass,a=this.opts.downClass;i.prev().length?i.prev().addClass(o):this.opts.repeat&&$(this.opts.containment).children().last().addClass(o),i.next().length?i.next().addClass(a):this.opts.repeat&&$(this.opts.containment).children().first().addClass(a)}},timerStart:function(t){if(!this.timerDisabled){var e=this;if(t)t.type||(t.type=e.opts.type),t.axis||(t.axis="x"),t.diretion||(t.direction=-1),t.startAt||(t.startAt=0),this.setCurrent(t.startAt,t.axis),this.current=t.startAt,this.TimerArgs=t;else{if(!this.TimerArgs)return;t=this.TimerArgs,this.TimerDirection=this.TimerDirection||e.opts.autoplayDirection,this.current=null!=this.tempCurrent?this.tempCurrent:this.TimerDirection==-1?this.current+1:this.current-1,this.tempCurrent=null,this.TimerDirection=null,this.setCurrent(this.current,t.axis)}this.Timer&&window.clearTimeout(this.Timer),this.Timer=window.setTimeout(function(){e.autostart(t.type,t.axis,t.direction)},this.opts.interval)}},timerStop:function(t){this.Timer&&(window.clearTimeout(this.Timer),this.Timer=null),this.TimerArgs=null,this.disableTimer()}},s=[n(13),n(10),n(20)],o=function(){return window._g.transition=a,window._g.transition}.apply(e,s),!(void 0!==o&&(t.exports=o))}(window)},function(t,e,i){var n,s;!function(){var o={0:{x:{activeItem:{x:function(t,e){return-t*(1-e)*100+"%"}},currentItem:{x:function(t,e){return t*e*100+"%"}}},y:{activeItem:{y:function(t,e){return-t*(1-e)*100+"%"}},currentItem:{y:function(t,e){return t*e*100+"%"}}},perspective:!1,currentEasing:"snap",activeEasing:"snap"},1:{x:{activeItem:{x:function(t,e){return-t*(1-e)*100+"%"}},currentItem:{x:0}},y:{activeItem:{y:function(t,e){return-t*(1-e)*100+"%"}},currentItem:{y:0}},activeTop:!0,perspective:!1,currentEasing:"snap",activeEasing:"snap"},2:{x:{activeItem:{},currentItem:{opacity:function(t,e){return 1-e}}},y:{activeItem:{},currentItem:{opacity:function(t,e){return 1-e}}},currentTop:!0,perspective:!1,currentEasing:"snap",activeEasing:"snap"},3:{perspective:!0,currentEasing:"out",activeEasing:"in",currentTop:!0,percentcontrol:[.5,1],.5:{x:{activeItem:{rotateY:function(t,e){return 90*-t+"deg"},opacity:.2},currentItem:{rotateY:function(t,e){return 90*t*e*2+"deg"},opacity:function(t,e){return.2+.8*(1-2*e)}}},y:{activeItem:{rotateX:function(t,e){return 90*t+"deg"},opacity:.2},currentItem:{rotateX:function(t,e){return 90*-t*e*2+"deg"},opacity:function(t,e){return.2+.8*(1-2*e)}}}},1:{x:{activeItem:{rotateY:function(t,e){return 90*-t*(1-2*(e-.5))+"deg"},opacity:function(t,e){return.2+.8*(e-.5)*2}},currentItem:{rotateY:function(t,e){return 90*t+"deg"},opacity:.2}},y:{activeItem:{rotateX:function(t,e){return 90*t*(1-2*(e-.5))+"deg"},opacity:function(t,e){return.2+.8*(e-.5)*2}},currentItem:{rotateX:function(t,e){return 90*-t+"deg"},opacity:.2}}}},4:{x:{css:{currentItem:{transformOrigin:function(t,e){return t<0?"100% 50%":"0% 50%"}},activeItem:{transformOrigin:function(t,e){return t>0?"100% 50%":"0% 50%"}}},activeItem:{x:function(t,e){return-t*(1-e)*100+"%"},opacity:function(t,e){return e},rotateY:function(t,e){return-t*(1-e)*90+"deg"}},currentItem:{x:function(t,e){return t*e*100+"%"},rotateY:function(t,e){return t*e*90+"deg"},opacity:function(t,e){return 1-e}}},y:{css:{currentItem:{transformOrigin:function(t,e){return t<0?"50% 100%":"50% 0%"}},activeItem:{transformOrigin:function(t,e){return t>0?"50% 100%":"50% 0%"}}},activeItem:{y:function(t,e){return-t*(1-e)*100+"%"},opacity:function(t,e){return e},rotateX:function(t,e){return t*(1-e)*90+"deg"}},currentItem:{y:function(t,e){return t*e*100+"%"},rotateX:function(t,e){return-t*e*90+"deg"},opacity:function(t,e){return 1-e}}},currentTop:!0,perspective:!0,currentEasing:"easeOutCubic",activeEasing:"easeOutCubic"},5:{x:{css:{currentItem:{transformOrigin:function(t,e){return t>0?"100% 50%":"0% 50%"}}},activeItem:{x:function(t,e){return-t*(1-e)*100+"%"}},currentItem:{x:0,scale:function(t,e){return.5+.5*(1-e)}}},y:{css:{currentItem:{transformOrigin:function(t,e){return t>0?"50% 100%":"50% 0%"}}},activeItem:{y:function(t,e){return-t*(1-e)*100+"%"}},currentItem:{y:0,scale:function(t,e){return.5+.5*(1-e)}}},activeTop:!0,perspective:!1,currentEasing:"epubOut",activeEasing:"epubOut"}};n=[i(13)],s=function(){return window._g.transitionargs=o,window._g.transitionargs}.apply(e,n),!(void 0!==s&&(t.exports=s))}(window)},function(t,e,i){var n,s;!function(){var i={init:function(){var t={model:function(t,e){return new coolsite_play.model.action.action(t,e)}};coolsite_play.collection.action=_g.mvc.createCollection(t);var e={model:function(t,e){return new coolsite_play.model.animation.animation(t,e)}};coolsite_play.collection.animation=_g.mvc.createCollection(e);var i={enableSync:!1};coolsite_play.collection.element=_g.mvc.createCollection(i),coolsite_play.collection.slider=coolsite_play.collection.element.extend({model:function(t,e){return new coolsite_play.model.element.slider(t,e)},generate:function(){var t=this;this.reset([],{silent:!0}),$(document).find(".c-slider:not(.cf-ref)").each(function(){var e=t.getArgs(this);t.add({args:e}),t.last().iview.setElement(this),t.last().iview.afterRender()})},getArgs:function(t){var e=$(t).attr("data-c_slider_args"),e=e.split(";"),i={};return _.each(e,function(t){var e=t.split(":");i[e[0]]=e[1]}),i},stop:function(){this.each(function(t){t.stop()})}});var n={model:function(t,e){return new coolsite_play.model.timeline.timeline(t,e)}};coolsite_play.collection.timeline=_g.mvc.createCollection(n),_cs.mvc.init_controllers(),_cs.mvc.init_views(),_cs.mvc.init_models(),coolsite_play.animationlist=new coolsite_play.collection.animation,coolsite_play.timelinelist=new coolsite_play.collection.timeline,coolsite_play.sliderlist=new coolsite_play.collection.slider,coolsite_play.actionlist=new coolsite_play.collection.action},init_models:function(){var t={enableSync:!1,autoIndex:!0,element:null,bindRemove:function(t,e){},callback:function(){this.type=this.get("data").type,this.exec=this.get("data").exec},initView:coolsite_play.view.action.action,getArgs:function(){var t=this.get("data").args;return $.extend(!0,{},t)},getType:function(){var t=this.get("data").type;return t}};coolsite_play.model.action.action=_g.mvc.createModel(t);var e={enableSync:!1,autoIndex:!0,element:null,bindRemove:function(t,e){},callback:function(){},initView:coolsite_play.view.animation.animation};coolsite_play.model.animation.animation=_g.mvc.createModel(e);var i={enableSync:!1,autoIndex:!0,initView:coolsite_play.view.element.element,callback:function(){}};coolsite_play.model.element.element=_g.mvc.createModel(i),coolsite_play.model.element.slider=coolsite_play.model.element.element.extend({initView:coolsite_play.view.element.slider,start:function(){var t=this,e=this.get("args");if(this.transition=transition=this.getTransition(),!this.silderStart){if(this.sliderStart=!0,this.iview.$el.children(".c-leftarrow").on("click",function(){t.switchSlide("prev")}),this.iview.$el.children(".c-rightarrow").on("click",function(){t.switchSlide("next")}),coolsite_play.isPreview||_.each(this.iview.slidernavdots,function(e,i){$(e).on("click",function(){t.switchSlide(i)})}),this.iview.$el.children(".c-slider-mask").data("sliderId",this.id),!Number(e.ap))return;transition.enableTimer(),transition.timerStart({})}},stop:function(){this.sliderStart&&(this.transition.timerStop(),this.iview.$el.children(".c-leftarrow").off("click"),this.iview.$el.children(".c-rightarrow").off("click"),coolsite_play.isPreview||this.iview.slidernavdots.off("click"),this.sliderStart=!1)},switchSlide:function(t){if(!this.transition||!this.transition.isTransiting){var e=this.get("args");if("prev"==t&&(this.transition.TimerDirection=1,this.transition.autostart(e.type,"x",1)),"next"==t&&this.transition.autostart(e.type,"x",-1),_.isNumber(t)){if(t==this.transition.currentIndex)return null;t>this.transition.currentIndex?direction=-1:direction=1,this.transition.currentIndex=t,this.transition.prepareNextClass(this.iview.slidermask,t,direction),this.transition.TimerDirection=direction,this.transition.Timer&&window.clearTimeout(this.transition.Timer),this.transition.tempCurrent=t,this.transition.autostart(e.type,"x",direction),this.transition.TimerDirection=-1}}},onChangeTo:function(t,e){(coolsite_play.isPreview||coolsite_play.isPlay)&&(_.isNumber(t)&&this.iview.slides.eq(t).trigger("recover"),this.iview.slides.eq(e).trigger("changeTo"))},getTransition:function(){if(this.transition)return this.transition;var t=this.iview.$el.attr("data-c_sliderid"),e=coolsite_editor.elementlist.get(t);return e?e.transition:null}});var n={enableSync:!1,autoIndex:!0,element:null,bindRemove:function(t,e){},callback:function(){},initView:coolsite_play.view.timeline.timeline,play:function(){var t=this.getArgs();t&&2==t.st&&this.played||(this.played=!0,this.animations||(this.animations=this.get("animations"),this.animations&&this.animations.length&&(this.animations=_.map(this.animations,function(t){var e=coolsite_play.animationlist.get(t);return e?e:null}),this.animations=_.reject(this.animations,function(t){return!t}),this.animations=_.reject(this.animations,function(t){return t.toJSON().data.t.wa}))),console.log({animations:this.animations}),this.timeline||(this.timeline=coolsite_play.util.timeline.createTimeline({animations:this.animations,args:t,model:this})),this.timeline.play(0))},stop:function(){this.timeline&&this.timeline.kill()},recoverStyle:function(){var t=this.getArgs();t&&2==t.st&&this.played||this.animations&&_.each(this.animations,function(t){t.iview.recoverStyle()})},getArgs:function(){var t=this.get("data");return t.t}};coolsite_play.model.timeline.timeline=_g.mvc.createModel(n)},init_views:function(){coolsite_play.view.action.action={autoRender:!1,events:coolsite_play.controller.action.action,execute:function(t){var e=this.model.getArgs();if(e&&2==e.st&&this.model.triggered)return!1;this.model.triggered=!0;var i=this.model.get("data").exec;switch(i){case 0:this.renderAnimations();break;case 1:this.renderShow();break;case 2:this.renderHide();break;case 5:this.renderUrl();break;case 6:this.renderSwitch();break;case 10:this.renderUrl();break;case 16:this.renderPhone();break;case 30:this.renderHash();break;case 20:this.renderToggle();break;case 21:this.renderClass("add");break;case 22:this.renderClass("remove");break;case 23:this.renderClass("toggle");break;case 26:this.renderState();break;case 27:this.renderDialog("open",t);break;case 28:this.renderDialog("close",t);break;case 29:this.renderDialog("toggle",t);break;case 32:this.renderHtml("load");break;case 33:this.renderHtml("unload");break;case 52:this.renderMedia("play");break;case 53:this.renderMedia("pause");break;case 54:this.renderMedia("stop");break;case 55:this.renderMedia("toggle")}coolsite_play.util.PluginManage.actionexcutes[i]&&coolsite_play.util.PluginManage.actionexcutes[i].config.exec(this)},renderAnimations:function(){var t=this.model.getArgs();this.animations||(this.animations=t.a_ids,this.animations&&this.animations.length&&(this.animations=_.map(this.animations,function(t){var e=coolsite_play.animationlist.get(t);return e?e:null}),this.animations=_.reject(this.animations,function(t){return!t}))),this.timeline||(this.timeline=coolsite_play.util.timeline.createTimeline({animations:this.animations,args:t})),this.timeline.play(0)},getEl:function(t){var e=$("[data-c_e_id="+t+"]");return e=e.length>1&&void 0!=this.model.siblingIndex&&e[this.model.siblingIndex]?$(e[this.model.siblingIndex]):e},renderShow:function(){var t=this,e=this.model.getArgs(),i=e.e_ids;_.each(i,function(e){var i=t.getEl(e);i.length&&(i.removeClass("c-initHide"),i.removeClass("cf-initHide"),i.show())})},renderHide:function(){var t=this,e=this.model.getArgs(),i=e.e_ids;_.each(i,function(e){var i=t.getEl(e);i.length&&i.hide()})},renderToggle:function(){var t=this,e=this.model.getArgs(),i=e.e_ids;_.each(i,function(e){var i=t.getEl(e);i.length&&(i.hasClass("c-initHide")||i.hasClass("cf-initHide")?(i.removeClass("c-initHide"),i.removeClass("cf-initHide"),i.show()):i.toggle())})},renderClass:function(t,e){var i=this,n=this.model.getArgs();e||(e=n.cla);var s=n.e_ids;e&&_.each(s,function(n){var s=i.getEl(n);s.length&&("add"==t&&s.addClass(e),"remove"==t&&s.removeClass(e),"toggle"==t&&s.toggleClass(e))})},renderDialog:function(t,e){var i=this,n=this.model.getArgs(),s=n.e_ids;_.each(s,function(n){var s=i.getEl(n);if(s.length){var o=$(e.target).closest("[data-c_contentview_id]");if(o.length){var a=o.attr("data-c_contentview_id");if(console.log(a),s.find("[data-c_e_id="+a+"]").length){var r=o.attr("data-c_content_url");if(r){s.find("[data-c_e_id="+a+"]").empty();$.ajax({url:r,type:"GET",dataType:"html",success:function(t){s&&s.find("[data-c_e_id="+a+"]").length&&s.find("[data-c_e_id="+a+"]").replaceWith(t)},error:function(){},timeout:1e4})}}}"open"==t?(s.removeClass("c-initHide"),s.removeClass("cf-initHide"),s.show(),window.setTimeout(function(){s.addClass("c-dialog-open")},300)):"close"==t?(s.removeClass("c-dialog-open"),window.setTimeout(function(){s.hide()},300)):"toggle"==t&&(s.hasClass("c-dialog-open")?(s.removeClass("c-dialog-open"),window.setTimeout(function(){s.hide()},300)):(s.removeClass("c-initHide"),s.removeClass("cf-initHide"),s.show(),window.setTimeout(function(){s.addClass("c-dialog-open")},300)))}})},renderMedia:function(t){var e=this.model.getArgs(),i=e.e_ids;_.each(i,function(e){switch(t){case"play":_g.html5media.play(e);break;case"pause":_g.html5media.pause(e);break;case"stop":_g.html5media.stop(e);break;case"toggle":_g.html5media.toggle(e)}})},renderState:function(t){var e=this,i=this.model.getArgs();t||(t=i.cla);var n=i.e_ids;_.each(n,function(i){var n=e.getEl(i);if(n.length){if("c-state1"!=t&&n.removeClass("c-state1"),"c-state2"!=t&&n.removeClass("c-state2"),"c-state3"!=t&&n.removeClass("c-state3"),!t)return;n.addClass(t)}})},renderUrl:function(){var t=this.model.getArgs();if(t.url){var e=this.model.get("data").exec;if(10==e?0==t.url.indexOf("#")||t.url.indexOf("://")!=-1||(t.url="http://"+t.url):5==e&&"undefined"!=typeof portal_url&&(t.url=portal_url+t.url),t.blank){if(coolsite_play.isPreview)return coolsite_editor.ui.message.show("warning",coolsite_editor.WARN[100]),!1;window.open(t.url)}else{if(coolsite_play.isPreview)return coolsite_editor.ui.message.show("warning",coolsite_editor.WARN[100]),!1;window.location.href=t.url}}},renderHash:function(){var t=this.model.getArgs();t.url&&coolsite_play.events.scroll.doHashScroll(null,t.url)},renderPhone:function(){var t=this.model.getArgs();t.url&&(window.location="tel:"+t.url)},renderHtml:function(t){var e=this,i=this.model.getArgs(),n=i.e_ids;_.each(n,function(i){var n=e.getEl(i);n.length&&("load"==t?(n.removeClass("c-initHide"),n.removeClass("cf-initHide"),n.show(),n.attr("data-src")&&n.attr("src",n.attr("data-src")),n.attr("data-srcdoc")&&(_g.device.msie()?n[0].contentWindow.document.write(n.attr("data-srcdoc")):n.attr("srcdoc",n.attr("data-srcdoc")))):"unload"==t&&(n.attr("src")&&n.removeAttr("src"),n.attr("srcdoc")&&(_g.device.msie()?n[0].contentWindow.document.write(""):n.removeAttr("srcdoc"))))})},renderSwitch:function(){var t=this,e=this.model.getArgs(),i=e.e_ids;_.each(i,function(i){var n=t.getEl(i);n.length&&n.trigger("switchTo",e.i)})}},coolsite_play.view.animation.animation={autoRender:!1,events:coolsite_play.controller.animation.animation,stashStyle:function(){this.tmpClass=this.$el.attr("class"),this.tmpStyle=this.$el.attr("style")},recoverStyle:function(){this.$el.attr("class",this.tmpClass),this.$el.attr("style",this.tmpStyle)}},coolsite_play.view.element.element={autoRender:!1,events:coolsite_play.controller.element.element},coolsite_play.view.element.slider=$.extend(!0,{},coolsite_play.view.element.element,{events:coolsite_play.controller.element.slider,afterRender:function(){this.slidernav=this.$el.children(".c-slider-nav"),this.slidernavdots=this.slidernav.children(".c-slider-nav-dot"),this.slidermask=this.$el.children(".c-slider-mask"),this.slides=this.slidermask.children(".c-slide");var t=this.model.get("args");coolsite_play.isPreview||(this.model.transition=coolsite_play.slider(this.slidermask,t),this.model.transition.refreshSlideClass(this.slidermask,0),this.slidernavdots.first().addClass("c-active"),this.model.transition.currentIndex=0)}}),coolsite_play.view.timeline.timeline={autoRender:!1,events:coolsite_play.controller.timeline.timeline}},init_controllers:function(){coolsite_play.controller.action.action={c_start:function(t){if($(t.target).is(this.$el))return 6==this.model.type?(this.execute(t),!1):void 0},click:function(t){if(console.log("element click"),0==this.model.type)return this.execute(t),!1},dblclick:function(t){if(console.log("element dblclick"),4==this.model.type)return this.execute(t),!1},mouseover:function(t){if(console.log("element mouseover"),20==this.model.type)return this.execute(t),!1},mouseout:function(t){if(21==this.model.type)return this.execute(t),!1},c_scroll:function(t){23==this.model.type&&this.execute(t)},c_scrollUp:function(t){$(t.target).is(this.$el)&&24==this.model.type&&this.execute(t)},c_scrollDown:function(t){$(t.target).is(this.$el)&&25==this.model.type&&this.execute(t)},scrollIn:function(t){$(t.target).is(this.$el)&&26==this.model.type&&this.execute(t)},scrollUpIn:function(t){$(t.target).is(this.$el)&&27==this.model.type&&this.execute(t)},scrollDownIn:function(t){$(t.target).is(this.$el)&&28==this.model.type&&this.execute(t)},scrollOut:function(t){$(t.target).is(this.$el)&&29==this.model.type&&this.execute(t)},scrollUpOut:function(t){$(t.target).is(this.$el)&&30==this.model.type&&this.execute(t)},scrollDownOut:function(t){$(t.target).is(this.$el)&&31==this.model.type&&this.execute(t)},changeTo:function(t){$(t.target).is(this.$el)&&(console.log("element changeTo"),5==this.model.type&&this.execute(t))},c_active:function(t){$(t.target).is(this.$el)&&33==this.model.type&&this.execute(t)},c_deactive:function(t){$(t.target).is(this.$el)&&34==this.model.type&&this.execute(t)}},coolsite_play.controller.animation.animation={},coolsite_play.controller.element.element={scrollUpIn:function(t){console.log("slider scroll in")}},coolsite_play.controller.element.slider=$.extend(!0,{},coolsite_play.controller.element.element,{scrollUpIn:function(t){$(t.target).is(this.$el)&&(console.log("slider scroll in"),this.model.start(),this.model.onChangeTo(null,0))},switchTo:function(t,e){$(t.target).is(this.$el)&&(console.log(e),this.model.switchSlide(e))}}),coolsite_play.controller.timeline.timeline={scrollIn:function(t){$(t.target).is(this.$el)&&this.model.play()},recover:function(t){$(t.target).is(this.$el)&&this.model.recoverStyle()},changeTo:function(t){$(t.target).is(this.$el)&&this.model.play()},c_active:function(t){!$(t.target).is(this.$el)},c_deactive:function(t){!$(t.target).is(this.$el)},t_start:function(t){$(t.target).is(this.$el)&&("locked"==this.$el.attr("data-c_tl_locked")?coolsite_play.isSectionLock=this.model.id:coolsite_play.isSectionLock=!1)},t_end:function(t){$(t.target).is(this.$el)&&coolsite_play.isSectionLock==this.model.id&&(coolsite_play.isSectionLock=!1)}}}};n=[],s=function(){return window._cs||(window._cs={}),window._cs.mvc=i,window._cs.mvc}.apply(e,n),!(void 0!==s&&(t.exports=s))}(window)},function(t,e,n){var s,o;!function(){var n={init:function(){coolsite_play.events.dialog={init:function(){$(document).find(".c-modal").on("click",".dialog-close",coolsite_play.events.dialog.handleDialogClose)},handleDialogClose:function(){var t=$(this).closest(".c-modal");return t.removeClass("c-dialog-open"),window.setTimeout(function(){t.hide()},300),!1},stop:function(){$(document).find(".c-modal").off("click",".dialog-close",coolsite_play.events.dialog.handleDialogClose)}},coolsite_play.events.form={init:function(){$("form textarea").each(function(){"    "==$(this).html()&&$(this).html("")}),$("[data-c_form]").each(function(){$(this).bind("submit",coolsite_play.events.form.bind)})},bind:function(){var t=$(this),e=$(this).attr("data-action");if(!e)return!1;$.ajax({url:e,type:"POST",dataType:"JSON",data:$(this).serialize(),beforeSend:function(t){t.setRequestHeader("X-CSRFToken",coolsite_play.readCookie("csrftoken"))},traditional:!0,success:function(e){if(t.find(".c-error").removeClass("c-error"),200==e.code)t.addClass("c-success"),t.removeClass("c-error"),coolsite_play.events.form.handleRedirect(t);else{t.addClass("c-error");var i=e.msg;_.each(i,function(e,i){var n=t.find("[name="+i+"]");n.is("input[type=radio]")||n.is("input[type=checkbox]")?n.parent().addClass("c-error"):t.find("[name="+i+"]").addClass("c-error")})}},error:function(){},timeout:1e4});return!1},stop:function(){$("[data-c_form]").each(function(){$(this).unbind("submit",coolsite_play.events.form.bind)})},handleRedirect:function(t){var e,i=t.attr("data-url"),n=t.attr("data-page"),s=t.attr("data-target");if(i)e=i,0==e.indexOf("#")||e.indexOf("://")!=-1||(e="http://"+e);else{if(!n)return!1;e=n,"undefined"!=typeof portal_url&&(e=portal_url+e)}if(s){if(coolsite_play.isPreview)return coolsite_editor.ui.message.show("warning",coolsite_editor.WARN[100]),!1;window.open(e)}else{if(coolsite_play.isPreview)return coolsite_editor.ui.message.show("warning",coolsite_editor.WARN[100]),!1;window.location.href=e}}},coolsite_play.events.html={init:function(){_g.device.msie()&&$(document).find("iframe.c-iframe").each(function(){if($(this).attr("srcdoc")){var t=$(this).attr("srcdoc");this.contentWindow.document.write(t)}})}},coolsite_play.events.mousewheel={init:function(){$("body").find(".c-section-switch").each(function(){$(this).on("mousewheel",coolsite_play.events.mousewheel.handlemousewheel)})},stop:function(){$("body").find(".c-section-switch").each(function(){$(this).off("mousewheel",coolsite_play.events.mousewheel.handlemousewheel)})},handlemousewheel:function(t){var e=t.currentTarget,i=null;(t.deltaY<-10||coolsite_play.isWindows&&t.deltaY<0)&&(i=1),(t.deltaY>10||coolsite_play.isWindows&&t.deltaY>0)&&(i=0),null!=i&&coolsite_play.events.scroll.doSectionSwitch(e,i),t.preventDefault()}},coolsite_play.events.scroll={init:function(){coolsite_play.events.scroll.refresh(),$("body").trigger("scrollIn"),$("body").trigger("scrollUpIn");var t=$(window).scrollTop(),e=coolsite_play.events.scroll.getScrollHeight(),n=e-$(window).height(),s=coolsite_play.sectionItems;if($("body").find(".c-section,.c-slider").each(function(){$(this).offset().top<t+$(window).height()&&(console.log(this),$(this).addClass("c-scrollIn"),$(this).trigger("scrollIn"),$(this).trigger("scrollUpIn"))}),s.length)if(t>=n)coolsite_play.events.scroll.activate(s.length-1);else if(t<=s[0].top)coolsite_play.events.scroll.activate(0);else for(i=0;i<s.length;i++)t>=s[i].top&&(!s[i+1]||t<=s[i+1].top)&&coolsite_play.events.scroll.activate(i);coolsite_play.events.scroll.lastst=t,coolsite_play.scroll_offset=0,$(window).bind("scroll",coolsite_play.events.scroll.handle),$(window).bind("resize",coolsite_play.events.scroll.resizehandle)},refresh:function(){coolsite_play.scrollItems=[],coolsite_play.sectionItems=[];var t=$("body").find(".c-section,.c-slider");t.map(function(){var t=$(this).offset().top,e=$(this).offset().top+$(this).height();$(this).hasClass("c-section")?"section":$(this).hasClass("c-slider")?"slider":"other";return{top:t,bottom:e,target:this}}).sort(function(t,e){return t.top-e.top}).each(function(){coolsite_play.scrollItems.push(this),$(this.target).hasClass("c-section")&&"scroll"==$(this.target).attr("data-c_spy")&&coolsite_play.sectionItems.push(this)}),coolsite_play.scrollHeight=coolsite_play.events.scroll.getScrollHeight(),console.log(coolsite_play.scrollItems)},getScrollHeight:function(){return Math.max($("body")[0].scrollHeight,document.documentElement.scrollHeight)},handle:function(t){var e,i,n=$(this).scrollTop(),s=coolsite_play.events.scroll.getScrollHeight(),o=s-$(window).height(),a=coolsite_play.scrollItems,r=coolsite_play.sectionItems;if(coolsite_play.scrollHeight!=s&&coolsite_play.events.scroll.refresh(),e=n>coolsite_play.events.scroll.lastst?1:0,coolsite_play.events.scroll.lastst=n,$("body").trigger("c_scroll"),$("body").trigger(1==e?"c_scrollUp":"c_scrollDown"),r.length)if(n>=o)coolsite_play.events.scroll.activate(r.length-1);else if(n<=r[0].top)coolsite_play.events.scroll.activate(0);else for(i=0;i<r.length;i++)e?n>=r[i].top&&(!r[i+1]||n<=r[i+1].top)&&coolsite_play.events.scroll.activate(i):n<=r[i].top&&(!r[i-1]||n>=r[i-1].top)&&coolsite_play.events.scroll.activate(i-1);for(i=0;i<a.length;i++){var l=a[i].target,c=a[i].top,d=a[i].bottom;e?c<n+$(window).height()&&d-n>0?$(l).hasClass("c-scrollIn")?($(l).trigger("c_scroll"),$(l).trigger("c_scrollUp")):($(l).addClass("c-scrollIn"),$(l).trigger("scrollIn"),$(l).trigger("scrollUpIn"),console.log("upIn")):$(l).hasClass("c-scrollIn")&&($(l).removeClass("c-scrollIn"),$(l).trigger("scrollOut"),$(l).trigger("scrollUpOut"),$(l).trigger("recover"),console.log("upOut")):d-n>0&&c<n+$(window).height()?$(l).hasClass("c-scrollIn")?($(l).trigger("c_scroll"),$(l).trigger("c_scrollDown")):($(l).addClass("c-scrollIn"),$(l).trigger("scrollIn"),$(l).trigger("scrollDownIn")):$(l).hasClass("c-scrollIn")&&($(l).removeClass("c-scrollIn"),$(l).trigger("scrollOut"),$(l).trigger("scrollDownOut"),$(l).trigger("recover"))}},activate:function(t){var e=coolsite_play.sectionItems;if(null==coolsite_play.currentActiveIndex||coolsite_play.currentActiveIndex!=t){if(null!=coolsite_play.currentActiveIndex){$(e[coolsite_play.currentActiveIndex].target).trigger("c_deactive");var i=e[coolsite_play.currentActiveIndex].target.id;if(i){var n=$("[href=#"+i+"]");n.length&&n.each(function(){"scroll"==$(this).attr("data-c_spy")&&$(this).parent("li").length&&$(this).parent("li").removeClass("active")})}}console.log(coolsite_play.currentActiveIndex+":deactive"),$(e[t].target).trigger("c_active"),coolsite_play.currentActiveIndex=t,console.log(t+":active");var i=e[t].target.id;if(i){var n=$("[href=#"+i+"]");n.length&&n.each(function(){"scroll"==$(this).attr("data-c_spy")&&$(this).parent("li").length&&$(this).parent("li").addClass("active")})}}},resizehandle:function(t){coolsite_play.events.scroll.refresh()},bindHashScroll:function(){$("a[href^='#'][data-toggle!='tab']").bind("click",coolsite_play.events.scroll.doHashScroll)},unBindHashScroll:function(){$("a[href^='#'][data-toggle!='tab']").unbind("click",coolsite_play.events.scroll.doHashScroll)},doHashScroll:function(t,e){return e||(e=$(this).attr("href")),$(e).length&&$("html, body").animate({scrollTop:$(e).offset().top},800),!1},doScrollByElement:function(t){coolsite_play.isSectionSwitching||coolsite_play.isSectionLock||$(t).length&&$("html, body").animate({scrollTop:$(t).offset().top},800)},doSectionSwitch:function(t,e){var i=$(t).prev(".c-section-switch").length?$(t).prev(".c-section-switch"):$(t).prev(".c-section")?$(t).prev(".c-section"):null,n=$(t).next(".c-section-switch").length?$(t).next(".c-section-switch"):$(t).next(".c-section")?$(t).next(".c-section"):null;e&&(coolsite_play.isSectionSwitching||n&&(coolsite_play.events.scroll.doScrollByElement(n),coolsite_play.isSectionSwitching=t,window.setTimeout(function(){coolsite_play.isSectionSwitching=null},1e3))),e||coolsite_play.isSectionSwitching||i&&(coolsite_play.events.scroll.doScrollByElement(i),coolsite_play.isSectionSwitching=t,window.setTimeout(function(){coolsite_play.isSectionSwitching=null},1e3))},stop:function(){$(window).unbind("scroll",coolsite_play.events.scroll.handle),$(window).unbind("resize",coolsite_play.events.scroll.resizehandle),coolsite_play.currentActiveIndex=null}},coolsite_play.events.touch={init:function(){$("body").find(".c-section-switch").each(function(){$(this).hammer().on("dragup",function(t){return console.log("dragup"),deltaY=t.gesture.deltaY,coolsite_play.events.touch.handletouch(t,1),t.gesture.preventDefault(),!1}),$(this).hammer().on("dragdown",function(t){return console.log("dragdown"),deltaY=t.gesture.deltaY,coolsite_play.events.touch.handletouch(t,0),t.gesture.preventDefault(),!1})});var t=!1;$("body").hammer().on("drag",function(e){if(!t){var i=_.filter(_g.html5media.medias,function(t){return"audio"==t.type&&t.autoplay});if(i.length)try{i[0].media.play(),t=!0}catch(e){t=!1}else t=!0}})},handletouch:function(t,e){var i=t.currentTarget;coolsite_play.events.scroll.doSectionSwitch(i,e)}}}};s=[],o=function(){return window._cs||(window._cs={}),window._cs.event=n,window._cs.event}.apply(e,s),!(void 0!==o&&(t.exports=o))}(window)},function(t,e,i){var n,s;!function(){var i={init:function(){_g.timeline={animation:{}};var t={param:function(t,e){var i={repeat:e.t.rp,ease:coolsite_play.easeType[e.t.es]};return i.onStartParams=["{self}",e,t],i.onStart=this.onStart,i.onComplete=this.onComplete,i.onCompleteParams=["{self}",e,t],i},fromparam:function(t,e){var i={};return i},toparam:function(t,e){var i={};return i.onComplete=this.stop,i.onCompleteParams=["{self}",e,t],i.ease=coolsite_play.easeType[e.t.es],i.repeat=e.t.rp,i.immediateRender=!1,i.onStartParams=["{self}",e,t],i.onStart=this.onStart,i},onStart:function(e,i,n){switch(console.log(n,i),i.type){case 1:case 3:case 5:t.show(n),t.setOriginCenter(n);break;case 6:t.setOriginCenter(n);break;case 9:t.setOriginCenter(n);break;case 10:t.show(n),t.setOriginCenter(n)}},onComplete:function(e,i,n){switch(i.type){case 5:t.unsetOriginCenter(n);break;case 2:case 4:case 6:t.unsetOriginCenter(n),t.hide(n);break;case 7:break;case 9:case 10:t.unsetOriginCenter(n)}console.log(n,i)},show:function(t,e){$(t).removeClass("c-initHide"),$(t).removeClass("cf-initHide"),$(t).show()},hide:function(t,e){$(t).addClass("c-initHide"),$(t).addClass("cf-initHide");
},setOriginCenter:function(t){$(t).css("transform-origin","50% 50%")},unsetOriginCenter:function(t){}};_g.timeline.animation[3]=function(e,i){var n=t.fromparam(e,i),s=t.toparam(e,i);n.css={opacity:0},s.css={opacity:1,force3D:!1};var o=TweenMax.fromTo(e,i.t.du,n,s);return o},_g.timeline.animation[4]=function(e,i){var n=t.param(e,i);n.css={opacity:0,force3D:!1};var s=TweenMax.to(e,i.t.du,n);return s},_g.timeline.animation[1]=function(e,i){var n=i.d.di,s=i.d.dt,o=i.d.dl,a=t.fromparam(e,i),r=t.toparam(e,i),l=$(window).width(),c=$(window).height();a.css={},r.css={force3D:!1};var d=!1;$(e).hasClass("c-initHide")&&(d=!0),$(e).addClass("cf-invisible c-invisible").removeClass("c-initHide").removeClass("cf-initHide").show();var u=e.offset();switch(n){case 0:a.css.y=s?-o:-(u.top+e.height()-$(window).scrollTop()),r.css.y=0;break;case 3:a.css.x=s?o:l-u.left,r.css.x=0;break;case 2:a.css.y=s?o:c-(u.top-$(window).scrollTop()),r.css.y=0;break;case 1:a.css.x=s?-o:-(u.left+e.width()),r.css.x=0}s&&(a.css.opacity=0,r.css.opacity=1),d&&$(e).addClass("c-initHide").addClass("cf-initHide"),$(e).removeClass("cf-invisible c-invisible");var h=TweenMax.fromTo(e,i.t.du,a,r);return h},_g.timeline.animation[2]=function(e,i){var n=i.d.di,s=i.d.dt,o=i.d.dl,a=t.param(e,i),r=e.offset(),l=$(window).width(),c=$(window).height();switch(a.css={force3D:!1},n){case 0:a.css.y=s?-o:-(r.top+e.height()-$(window).scrollTop());break;case 3:a.css.x=s?o:l-r.left;break;case 2:a.css.y=s?o:c-(r.top-$(window).scrollTop());break;case 1:a.css.x=s?-o:-(r.left+e.width())}s&&(a.css.opacity=0);var d=TweenMax.to(e,i.t.du,a);return d},_g.timeline.animation[5]=function(e,i){var n=t.fromparam(e,i),s=t.toparam(e,i);n.css={scale:0},s.css={scale:1,force3D:!1};var o=TweenMax.fromTo(e,i.t.du,n,s);return o},_g.timeline.animation[6]=function(e,i){var n=t.fromparam(e,i),s=t.toparam(e,i);n.css={scale:1},s.css={scale:0,force3D:"auto"};var o=TweenMax.fromTo(e,i.t.du,n,s);return o},_g.timeline.animation[8]=function(e,i){var n=t.param(e,i),s=_.isNumber(i.d.op)?Number(i.d.op):100;n.css={opacity:s/100,force3D:!1};var o=TweenMax.to(e,i.t.du,n);return o},_g.timeline.animation[7]=function(e,i){var n=t.param(e,i),s=_.isNumber(i.d.deg)?Number(i.d.deg):0,o=i.d.ax||0,a="_cw",r="+";s<0&&(a="_ccw"),s<0&&(r="-");var l={force3D:!1};0==o&&(l.rotation=r+"="+Math.abs(s)+a),1==o&&(l.rotationX=r+"="+Math.abs(s)+a),2==o&&(l.rotationY=r+"="+Math.abs(s)+a),n.css=l,_g.device.android()&&TweenLite.set(e,{transformPerspective:2e3});var c=TweenMax.to(e,i.t.du,n);return c},_g.timeline.animation[9]=function(e,i){var n=t.param(e,i),s=_.isNumber(i.d.sc)?Number(i.d.sc):1;n.css={scale:s,force3D:!1};var o=TweenMax.to(e,i.t.du,n);return o},_g.timeline.animation[10]=function(e,i){var n=t.fromparam(e,i),s=t.toparam(e,i),o=_.isNumber(i.d.op)?Number(i.d.op):50,a=_.isNumber(i.d.sc)?Number(i.d.sc):2;n.css={opacity:o/100,scale:a},s.css={opacity:1,scale:1,force3D:!1};var r=TweenMax.fromTo(e,i.t.du,n,s);return r},_g.timeline.create=function(t){var e={paused:!0,onStart:function(e){t.model&&t.model.iview&&t.model.iview.$el.trigger("t_start")},onComplete:function(e){t.model&&t.model.iview&&t.model.iview.$el.trigger("t_end")},repeat:t.args?t.args.rp:0},i=0,n=new TimelineMax(e);n.addLabel("Start");var s=t.animations;return _.each(s,function(t,e){var s=t.toJSON().data,o=s.t.de,a=s.t.st;s.t.rp;if(i+=o,2==a)if(0!=e){var r=n.getLabelTime(e-1+"_start");n.addLabel(e+"_start",r+o),i=r+o}else n.addLabel(e+"_start",i);else n.addLabel(e+"_start",i);s.d||(s.d={});var l=_g.timeline.animation[s.type](t.iview.$el,s);n.add(l,i),i+=s.t.du,t.siblingIds&&_.each(t.siblingIds,function(t){var s=coolsite_play.animationlist.get(t);if(s){var o=s.toJSON().data,a=o.t.de,r=o.t.st;o.t.rp;if(i+=a,2==r)if(0!=e){var l=n.getLabelTime(e-1+"_start");n.addLabel(e+"_start",l+a),i=l+a}else n.addLabel(e+"_start",i);else n.addLabel(e+"_start",i);o.d||(o.d={});var c=_g.timeline.animation[o.type](s.iview.$el,o);n.add(c,i),i+=o.t.du}})}),n}}};n=[],s=function(){return window._cs||(window._cs={}),window._cs.sdk=i,window._cs.sdk}.apply(e,n),!(void 0!==s&&(t.exports=s))}(window)},function(t,e,i){var n,s;!function(){var i={ani:function(){coolsite_play.util.canvasCirAni={init:function(t){for(var e=coolsite_play.doc.find("canvas"),i=0;i<e.length;i++){var n=$(e[i]);coolsite_play.util.canvasCirAni.generate(n,"",t)}},generate:function(t,e,i){function n(){var t=Math.min(1,(Date.now()-m)/h);s(t),t>=1?g(v):f(n)}function s(t){a.clearRect(0,0,r,l),a.strokeStyle=o.backgroundColor,a.lineWidth=c,a.lineCap="round",a.beginPath(),a.arc(p.x,p.y,d,0,2*Math.PI,!1),a.stroke(),a.closePath(),a.strokeStyle=o.borderColor,a.beginPath(),a.arc(p.x,p.y,d,-.5*Math.PI,(t*u*2-.5)*Math.PI,!1),a.stroke(),a.closePath(),o.showProgress&&(a.fillStyle=o.fontColor,a.font=o.fontWeight+" "+o.fontSize+"px Helvetica",a.textBaseline="middle",a.textAlign="center",a.fillText(parseInt(o.progress*t),p.x,p.y,2*d))}var o=t.attr("part_data");if(o){o=JSON.parse(o);var a=t[0].getContext("2d"),r=t.width(),l=t.height(),c=parseFloat(o.borderWidth),d=Math.min(parseFloat(r-c)/2,parseFloat(l-c)/2),u=parseFloat(o.progress/o.max),h=parseInt(o.duration),p={x:parseFloat(r/2),y:parseFloat(l/2)};if(i)s(1);else if(o.isWait&&!e)a.strokeStyle=o.backgroundColor,a.lineWidth=c,a.lineCap="round",a.clearRect(0,0,r,l),a.beginPath(),a.arc(p.x,p.y,d,0,2*Math.PI,!1),a.stroke(),a.closePath();else var m=Date.now(),f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,g=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame,v=f(n)}},stop:function(){coolsite_play.util.canvasCirAni.init(!0)}}}};n=[],s=function(){return window._cs||(window._cs={}),window._cs.canvascircle=i,window._cs.canvascircle}.apply(e,n),!(void 0!==s&&(t.exports=s))}(window)},function(t,e,n){var s,o;!function(){var n={actionexcutes:[],init:function(){if(coolsite360.PlayerPlugins.length)for(var t=0;t<coolsite360.PlayerPlugins.length;t++){var e=coolsite360.PlayerPlugins[t];"actionexecute"==e.type?coolsite_play.util.PluginManage.actionexcutes[e.config.type]=e:"wx"==e.type?_cs.wx_register(e):e.onInit&&e.onInit()}}},a={init:function(){coolsite_play.util.PluginManage=n,coolsite_play.util.action={generate:function(){coolsite_play.doc.find("[data-c_act_id]").each(function(){var t=this,e=$(this).attr("data-c_act_id"),n=String(e).split("|");for(i=0;i<n.length;i++)coolsite_play.actionlist.each(function(e){if(e.id==n[i]){e.getType();if(e.hasEl){var s=$.extend(!0,{},e.toJSON());delete s.id,coolsite_play.actionlist.add(s);var o=coolsite_play.actionlist.last();o.iview.setElement(t),o.hasEl=!0,e.siblingIds||(e.isSibling=!0,e.siblingIndex=0,e.siblingIds=[]),0==e.getType()&&o.iview.$el.addClass("c-action-click"),e.siblingIds.push(o.id),o.isSibling=!0,o.siblingIndex=e.siblingIds.length}else e.iview.setElement(t),0==e.getType()&&e.iview.$el.addClass("c-action-click"),e.hasEl=!0}})})}},coolsite_play.util.animation={generate:function(){coolsite_play.doc.find("[data-c_ani_id]").each(function(){var t=this,e=$(this).attr("data-c_ani_id"),n=String(e).split("|");for(i=0;i<n.length;i++)coolsite_play.animationlist.each(function(e){if(e.id==n[i])if(e.hasEl){var s=$.extend(!0,{},e.toJSON());delete s.id,coolsite_play.animationlist.add(s);var o=coolsite_play.animationlist.last();o.iview.setElement(t),o.iview.stashStyle(),o.hasEl=!0,e.siblingIds||(e.siblingIds=[]),e.siblingIds.push(o.id)}else e.iview.setElement(t),e.iview.stashStyle(),e.hasEl=!0})})}},coolsite_play.util.timeline={generate:function(){coolsite_play.doc.find("[data-c_tl_id]").each(function(){var t=$(this).attr("data-c_tl_id"),e=this,n=String(t).split("|");for(i=0;i<n.length;i++)coolsite_play.timelinelist.each(function(t){t.id==n[i]&&t.iview.setElement(e)})})},createTimeline:function(t){var e=_g.timeline.create(t);return e},stopAll:function(){coolsite_play.timelinelist.each(function(t){t.stop()})}},coolsite_play.util.video={init:function(){_g.html5media.collect(document,"data-c_e_id")},stopAll:function(){_g.html5media.stopAll()}},coolsite_play.slider=function(t,e){var i=new _g.transition({containment:t,disableControlled:!(!coolsite_play.isPreview&&_g.device.mobile()),duration:500,repeat:!0,control:!(coolsite_play.isPreview||!_g.device.mobile()),interval:1e3*Number(e.ti),type:Number(e.type),autoplayAxis:"x",onEnd:function(e,n){i.currentIndex=n,i.refreshSlideClass(t,n),i.setNavDots(t,n),"undefined"!=typeof coolsite_editor&&coolsite_editor.currentSlider&&coolsite_editor.currentSlider.transitionEnd&&coolsite_editor.currentSlider.transitionEnd(e,n);var s=$(t).data("sliderId");s&&($slider=coolsite_play.sliderlist.get(s),$slider.onChangeTo(e,n))}});return i.clearSlideClass=function(t){$(t).children().removeClass("c-transition-left").removeClass("c-transition-right").removeClass("c-transition-top").removeClass("c-transition-bottom")},i.refreshSlideClass=function(t,e,n){n||(n=-1),i.clearSlideClass(t);var s=$(t).children().length;if(n==-1)var o="c-transition-right",a="c-transition-left";else var o="c-transition-left",a="c-transition-right";$(t).children().each(function(){var i=$(this).index();i==e?($(this).addClass("c-transition-current"),$(this).prev().length?$(this).prev().addClass(a):s>1&&($(t).last().is(this)||$(t).last().addClass(a)),$(this).next().length?$(this).next().addClass(o):s>1&&($(t).first().is(this)||$(t).first().addClass(o))):$(this).removeClass("c-transition-current")})},i.prepareNextClass=function(t,e,n){n||(n=-1),i.clearSlideClass(t);$(t).children().length;if(n==-1)var s="c-transition-right";else var s="c-transition-left";$(t).children().each(function(){var t=$(this).index();t==e&&$(this).addClass(s)})},i.setNavDots=function(t,e){var i=$(t).parent().children(".c-slider-nav").children(".c-slider-nav-dot");i.removeClass("c-active"),i.eq(e).addClass("c-active")},i},coolsite_play.readCookie=function(t){for(var e=t+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var s=i[n];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(e))return s.substring(e.length,s.length)}return null},coolsite_play.play={start:function(){return coolsite_play.isPlay=!0,"undefined"!=typeof c_data&&(c_data.timelines=c_data.timelines||[],c_data.actions=c_data.actions||[],c_data.animations=c_data.animations||[],coolsite_play.doc=$("html"),c_data.timelines.length&&coolsite_play.timelinelist.reset(c_data.timelines,{silent:!0}),c_data.animations.length&&coolsite_play.animationlist.reset(c_data.animations,{silent:!0}),c_data.actions.length&&coolsite_play.actionlist.reset(c_data.actions,{silent:!0}),coolsite_play.sliderlist.generate(),coolsite_play.util.timeline.generate(),coolsite_play.util.cssanimation&&coolsite_play.util.cssanimation.generate(),coolsite_play.util.animation.generate(),coolsite_play.util.action.generate(),coolsite_play.util.canvasCirAni.init(),coolsite_play.events.scroll.init(),_g.device.mobile()?coolsite_play.events.touch.init():coolsite_play.events.mousewheel.init(),coolsite_play.events.scroll.bindHashScroll(),coolsite_play.events.dialog.init(),coolsite_play.events.html.init(),coolsite_play.util.video.init(),coolsite_play.events.form.init(),_g.device.android()&&$("body,.c-slider-mask").css({"touch-action":"initial"}),$("body").trigger("c_start"),void coolsite_play.util.PluginManage.init())}},coolsite_play.isWindows=_g.device.windows()}};s=[],o=function(){return window._cs||(window._cs={}),window._cs.util=a,window._cs.util}.apply(e,s),!(void 0!==o&&(t.exports=o))}(window)},function(t,e,i){var n,s;!function(){var i={init:function(){coolsite_play.util.cssanimation={generate:function(){var t=[],e=[],i=coolsite_play.util.cssanimation.findTimeline(t,e);t=i.timeline,e=i.inBody;for(var n=0;n<t.length;n++){var s=$(t[n]);"BODY"==s[0].tagName?coolsite_play.util.cssanimation.addCssAni(e):s.on("scrollIn",function(t){if($(t.target).hasClass("c-slider")||$(t.target).hasClass("c-section")){var e=$(this);if(e.hasClass("c-slider")){var i=e.find(".c-transition-current [data-c_cssani]");coolsite_play.util.cssanimation.addCssAni(i),e.find(".c-slide").each(function(){$(this).on("changeTo",function(){var t=$(this),e=t.find("[data-c_cssani]");coolsite_play.util.cssanimation.addCssAni(e,".c-slide",t)})})}else{var n=e.find("[data-c_cssani]");coolsite_play.util.cssanimation.addCssAni(n,".c-section",e)}}})}},findTimeline:function(t,e){var i=coolsite_play.doc.find("[data-c_cssani]");return _.each(i,function(i){var n=$(i).parents(".c-section,.c-slider")[0]||$("body");t.indexOf(n)==-1&&t.push(n),$(i).parents(".c-section")[0]||$(i).parents(".c-slider")[0]||!e||e.push(i)}),{timeline:t,inBody:e}},addCssAni:function(t,e,i){_.each(t,function(t){if(!e||!i||$(t).parents(e)[0]==i[0]){var n=$(t).attr("data-c_cssani").split("|"),s=n[0],o=n[1],a=n[2],r="1"==n[3]?"infinite":1;$(t).hasClass("cf-initHide")&&$(t).removeClass("cf-initHide"),$(t).css({"animation-delay":parseFloat(a)+"s","animation-duration":parseFloat(o)+"s","animation-iteration-count":r}).addClass(s+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(t).css({"animation-delay":"0s","animation-duration":"0s"}).removeClass(s+" animated")})}})},removeAllViews:function(){var t=[];t=coolsite_play.util.cssanimation.findTimeline(t).timeline,_.each(t,function(t){$(t).off("scrollIn"),$(t).hasClass("c-slider")&&$(t).find(".c-slide").off("changeTo")})}}}};n=[],s=function(){return window._cs||(window._cs={}),window._cs.ani=i,window._cs.ani}.apply(e,n),!(void 0!==s&&(t.exports=s))}(window)},function(t,e,i){function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s,o;!function(){var i={init:function(){window.coolsite_play={model:n({animation:{},action:{},timeline:{},element:{}},"action",{}),view:n({animation:{},action:{},timeline:{},element:{}},"action",{}),controller:n({animation:{},action:{},timeline:{},element:{}},"action",{}),collection:{},ui:{},events:{},util:{},varible:{}},coolsite_play.isPreview=!1,coolsite_play.scrollItems=[],coolsite_play.sectionItems=[],coolsite_play.currentActiveIndex=null,coolsite_play.isSectionSwitching=null,coolsite_play.isSectionLock=null,coolsite_play.animationCommonArgs={de:0,du:1,rp:0,rv:0,st:1,es:0,wa:0},coolsite_play.animationArgs={1:{di:0,dt:0,dl:0},2:{di:0,dt:0,dl:0},3:{},4:{},7:{deg:0,ax:0},8:{op:100},9:{sc:1},10:{sc:2,op:50}},coolsite_play.easeType={0:"Linear.easeNone",1:"Power0.easeIn",2:"Power0.easeInOut",3:"Power0.easeOut",4:"Power1.easeIn",5:"Power1.easeInOut",6:"Power1.easeOut",7:"Power2.easeIn",8:"Power2.easeInOut",9:"Power2.easeOut",10:"Power3.easeIn",11:"Power3.easeInOut",12:"Power3.easeOut",13:"Power4.easeIn",14:"Power4.easeInOut",15:"Power4.easeOut",16:"Quad.easeIn",17:"Quad.easeInOut",18:"Quad.easeOut",19:"Cubic.easeIn",20:"Cubic.easeInOut",21:"Cubic.easeOut",22:"Quart.easeIn",23:"Quart.easeInOut",24:"Quart.easeOut",25:"Quint.easeIn",26:"Quint.easeInOut",27:"Quint.easeOut",28:"Strong.easeIn",29:"Strong.easeInOut",30:"Strong.easeOut",31:"Back.easeIn",32:"Back.easeInOut",33:"Back.easeOut",34:"Bounce.easeIn",35:"Bounce.easeInOut",36:"Bounce.easeOut",37:"Circ.easeIn",38:"Circ.easeInOut",39:"Circ.easeOut",40:"Elastic.easeIn",41:"Elastic.easeInOut",42:"Elastic.easeOut",43:"Expo.easeIn",44:"Expo.easeInOut",45:"Expo.easeOut",46:"Sine.easeIn",47:"Sine.easeInOut",48:"Sine.easeOut",49:"SlowMo.ease"},coolsite_play.elementReference={"c-section":"section","c-container":"container","c-image":"image","c-slider":"slider","c-button":"button","c-row":"row","c-column":"column","c-paragraph":"c-paragraph","c-heading":"heading","c-div":"div","c-list":"list","c-listitem":"listitem","c-textblock":"textblock","c-slidermask":"slidermask","c-slide":"slide","c-linkblock":"lineblock","c-textlink":"textlink","c-leftarrow":"leftarrow","c-rightarrow":"rightarrow","c-icon":"icon","c-slidernav":"slidernav","c-slidernavdot":"slidernavdot"},coolsite_play.elementState={state1:"c-state1",state2:"c-state2",state3:"c-state3"}},start:function(t){coolsite_play.animationlist=new coolsite_play.collection.animation,coolsite_play.timelinelist=new coolsite_play.collection.timeline,coolsite_play.sliderlist=new coolsite_play.collection.slider,coolsite_play.actionlist=new coolsite_play.collection.action}};s=[],o=function(){return window._cs||(window._cs={}),window._cs.variable=i,window._cs.variable}.apply(e,s),!(void 0!==o&&(t.exports=o))}(window)},function(t,e){"use strict";coolsite360.PlayerPlugins.push({config:{type:"navbar"},onInit:function(){coolsite_play.doc.find(".navbar.c-navbar").each(function(){var t=window.location.href.match(/.*\/(\w+\.html).*/);t&&(t=t[1]),$(this).find('.c-navlink[href!="#"]').each(function(){var e=this.href;t||this.href.indexOf("index")==-1?t&&e.indexOf(t)!=-1&&$(this).parent().addClass("active"):$(this).parent().addClass("active")})})}})},function(t,e){"use strict";coolsite360.PlayerPlugins.push({type:"actionexecute",config:{type:105,exec:function(t){for(var e=t.model.get("data").args.e_ids,i=0;i<e.length;i++)coolsite_play.util.canvasCirAni.generate($("[canvas-id='"+e[i]+"']"),!0)}}})}]);